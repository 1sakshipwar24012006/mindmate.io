<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindMate - Mental Health Support</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, #fdfbf7 0%, #f3e7e9 100%);
            min-height: 100vh;
        }

        .font-devanagari { font-family: 'Noto Sans Devanagari', sans-serif; }

        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .typing-dot { animation: typing 1.4s infinite ease-in-out both; }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
    </style>
</head>
<body class="text-gray-700">

    <!-- ================= LOGIN PORTAL (ENTRY POINT) ================= -->
    <section id="login-portal" class="fixed inset-0 z-[100] bg-gradient-to-br from-indigo-50 via-white to-pink-50 flex items-center justify-center p-4 fade-in">
        <div class="glass max-w-4xl w-full rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row min-h-[500px]">
            
            <!-- Left Side: Branding -->
            <div class="md:w-1/2 p-10 flex flex-col justify-center items-center text-center bg-white/40">
                <div class="w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mb-6">
                    <i data-lucide="brain-circuit" class="w-10 h-10 text-indigo-500"></i>
                </div>
                <h1 class="text-4xl font-bold text-gray-800 mb-2">MindMate</h1>
                <p class="text-gray-500">Your AI-Powered Mental Health Companion</p>
            </div>

            <!-- Right Side: Role Selection -->
            <div class="md:w-1/2 p-10 flex flex-col justify-center space-y-6 bg-white/60">
                <h2 class="text-2xl font-bold text-gray-800 text-center mb-4">Select Your Portal</h2>
                
                <button onclick="enterApp('student')" class="group relative p-6 bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-all text-left flex items-center gap-4 hover:border-indigo-200">
                    <div class="w-12 h-12 rounded-full bg-indigo-50 flex items-center justify-center group-hover:bg-indigo-100 transition-colors">
                        <i data-lucide="graduation-cap" class="w-6 h-6 text-indigo-500"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-gray-800">Student Login</h3>
                        <p class="text-xs text-gray-500">Access chat, resources & appointments</p>
                    </div>
                    <i data-lucide="arrow-right" class="ml-auto w-5 h-5 text-gray-300 group-hover:text-indigo-500"></i>
                </button>

                <button onclick="enterApp('counselor')" class="group relative p-6 bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-all text-left flex items-center gap-4 hover:border-purple-200">
                    <div class="w-12 h-12 rounded-full bg-purple-50 flex items-center justify-center group-hover:bg-purple-100 transition-colors">
                        <i data-lucide="layout-dashboard" class="w-6 h-6 text-purple-500"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-gray-800">Counselor Admin</h3>
                        <p class="text-xs text-gray-500">Manage appointments & view analytics</p>
                    </div>
                    <i data-lucide="arrow-right" class="ml-auto w-5 h-5 text-gray-300 group-hover:text-purple-500"></i>
                </button>
            </div>
        </div>
    </section>


    <!-- ================= STUDENT INTERFACE (TOP NAV) ================= -->
    <div id="student-app" class="hidden">
        <nav class="fixed w-full z-50 glass shadow-sm">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center gap-2">
                        <i data-lucide="brain-circuit" class="w-8 h-8 text-indigo-400"></i>
                        <span class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-pink-400">MindMate</span>
                    </div>
                    
                    <div class="hidden md:flex items-center gap-6">
                        <div class="flex space-x-6">
                            <button onclick="navigateStudent('home')" class="hover:text-indigo-500 transition-colors font-medium" data-i18n="nav_home">Home</button>
                            <button onclick="navigateStudent('chat')" class="hover:text-indigo-500 transition-colors font-medium" data-i18n="nav_chat">AI Chat</button>
                            <button onclick="navigateStudent('assess')" class="hover:text-indigo-500 transition-colors font-medium" data-i18n="nav_assess">Assessment</button>
                            <button onclick="navigateStudent('consultants')" class="hover:text-indigo-500 transition-colors font-medium" data-i18n="nav_consult">Consultants</button>
                            <button onclick="navigateStudent('resources')" class="hover:text-indigo-500 transition-colors font-medium" data-i18n="nav_res">Resources</button>
                        </div>
                        
                        <div class="flex items-center gap-3">
                            <!-- Language -->
                            <div class="relative group">
                                <div class="flex items-center gap-1 bg-white/50 px-3 py-1.5 rounded-full border border-gray-200 cursor-pointer">
                                    <i data-lucide="globe" class="w-4 h-4 text-indigo-500"></i>
                                    <select id="languageSelect" onchange="changeLanguage(this.value)" class="bg-transparent border-none outline-none text-sm font-medium text-gray-700 cursor-pointer appearance-none pr-4">
                                        <option value="en">English</option>
                                        <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                                        <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
                                    </select>
                                </div>
                            </div>
                            <!-- Logout -->
                            <button onclick="logout()" class="p-2 text-gray-500 hover:text-red-500 transition-colors"><i data-lucide="log-out" class="w-5 h-5"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <main class="pt-20 pb-10 px-4 max-w-7xl mx-auto min-h-screen flex flex-col">
            <!-- Student Home -->
            <section id="student-home" class="fade-in block space-y-12">
                 <div class="text-center mt-10 md:mt-20 space-y-6">
                    <div class="inline-block px-4 py-1.5 rounded-full bg-indigo-50 text-indigo-500 text-sm font-semibold tracking-wide uppercase" data-i18n="hero_badge">Your Safe Space</div>
                    <h1 class="text-4xl md:text-6xl font-bold text-gray-800 leading-tight">
                        <span data-i18n="hero_title_1">You don't have to struggle</span> <br>
                        <span class="text-indigo-400" data-i18n="hero_title_2">in silence.</span>
                    </h1>
                    <p class="text-lg md:text-xl text-gray-600 max-w-2xl mx-auto" data-i18n="hero_desc">MindMate is your anonymous, AI-powered companion.</p>
                </div>
                <!-- Mood Tracker -->
                <div class="glass max-w-2xl mx-auto p-6 rounded-2xl shadow-sm text-center">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">How are you feeling today?</h3>
                    <div class="flex justify-center gap-6">
                        <button onclick="recordMood('Great')" class="text-3xl hover:scale-125 transition">üòÑ</button>
                        <button onclick="recordMood('Good')" class="text-3xl hover:scale-125 transition">üôÇ</button>
                        <button onclick="recordMood('Okay')" class="text-3xl hover:scale-125 transition">üòê</button>
                        <button onclick="recordMood('Low')" class="text-3xl hover:scale-125 transition">üòî</button>
                        <button onclick="recordMood('Bad')" class="text-3xl hover:scale-125 transition">üò´</button>
                    </div>
                </div>
            </section>

            <!-- Student Chat -->
            <section id="student-chat" class="hidden fade-in h-[85vh] flex flex-col">
                <div class="glass rounded-3xl shadow-lg flex-1 flex flex-col overflow-hidden border border-white">
                    <div class="p-4 border-b border-gray-100 bg-white/50 flex justify-between items-center">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-500"><i data-lucide="bot" class="w-6 h-6"></i></div>
                            <div><h3 class="font-bold">MindMate AI</h3><span class="text-xs text-green-500">Online</span></div>
                        </div>
                        <button onclick="clearChat()" class="text-xs text-gray-400">Clear</button>
                    </div>
                    <div id="messages" class="flex-1 overflow-y-auto p-4 space-y-4 bg-white/30 no-scrollbar">
                        <div class="flex gap-2.5"><div class="bg-white p-4 rounded-xl shadow-sm text-sm">Hello! I'm here to listen.</div></div>
                    </div>
                    <div class="p-4 bg-white/50 border-t border-gray-100">
                        <form onsubmit="handleChat(event)" class="flex gap-2">
                            <input type="text" id="userInput" class="flex-1 p-3 rounded-full border border-gray-200 text-sm outline-none" placeholder="Type here..." required>
                            <button type="submit" class="p-3 bg-indigo-400 text-white rounded-full"><i data-lucide="send" class="w-5 h-5"></i></button>
                        </form>
                    </div>
                </div>
            </section>

            <!-- Student Assessment (Simplified) -->
            <section id="student-assess" class="hidden fade-in max-w-2xl mx-auto w-full">
                <div class="glass rounded-3xl p-8 shadow-lg text-center">
                    <h2 class="text-2xl font-bold mb-4">Self Assessment (GAD-7)</h2>
                    <p class="mb-6 text-gray-600">This is a mockup of the assessment tool.</p>
                    <button class="px-6 py-2 bg-indigo-400 text-white rounded-full">Start Assessment</button>
                </div>
            </section>

            <!-- Student Consultants -->
            <section id="student-consultants" class="hidden fade-in space-y-8">
                <div class="text-center"><h2 class="text-3xl font-bold text-gray-800">Find a Consultant</h2></div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Consultant 1 -->
                    <div class="glass p-6 rounded-3xl flex flex-col items-center text-center">
                        <div class="w-20 h-20 rounded-full bg-indigo-100 mb-4 flex items-center justify-center"><i data-lucide="user" class="w-10 h-10 text-indigo-400"></i></div>
                        <h3 class="font-bold">Dr. Sarah Jen</h3>
                        <p class="text-sm text-indigo-500 mb-4">Anxiety Specialist</p>
                        <button onclick="openBooking('Dr. Sarah Jen')" class="w-full py-2 bg-indigo-400 text-white rounded-xl text-sm">Book Appointment</button>
                    </div>
                    <!-- Consultant 2 -->
                    <div class="glass p-6 rounded-3xl flex flex-col items-center text-center">
                        <div class="w-20 h-20 rounded-full bg-purple-100 mb-4 flex items-center justify-center"><i data-lucide="user" class="w-10 h-10 text-purple-400"></i></div>
                        <h3 class="font-bold">Dr. Aravind Kumar</h3>
                        <p class="text-sm text-purple-500 mb-4">Clinical Psychologist</p>
                        <button onclick="openBooking('Dr. Aravind Kumar')" class="w-full py-2 bg-purple-400 text-white rounded-xl text-sm">Book Appointment</button>
                    </div>
                </div>
            </section>

             <!-- Student Resources -->
            <section id="student-resources" class="hidden fade-in text-center">
                <h2 class="text-3xl font-bold text-gray-800 mb-6">Resources</h2>
                <div class="glass p-6 rounded-3xl inline-block border-l-4 border-red-300">
                    <h3 class="font-bold text-red-500">Emergency SOS</h3>
                    <p class="text-sm">National Helpline: 14416</p>
                </div>
            </section>
        </main>
    </div>

    <!-- ================= COUNSELOR INTERFACE (SIDE NAV) ================= -->
    <div id="counselor-app" class="hidden">
        
        <!-- SIDEBAR -->
        <aside class="fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-100 shadow-xl z-50 flex flex-col">
            <!-- Brand -->
            <div class="p-6 border-b border-gray-50 flex items-center gap-3">
                <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                    <i data-lucide="brain-circuit" class="w-6 h-6 text-purple-600"></i>
                </div>
                <div>
                    <h2 class="font-bold text-gray-800 text-lg">MindMate</h2>
                    <span class="text-xs text-purple-500 font-medium px-2 py-0.5 bg-purple-50 rounded-full">ADMIN</span>
                </div>
            </div>

            <!-- Nav Links -->
            <nav class="flex-1 p-4 space-y-2">
                <a href="#" class="flex items-center gap-3 px-4 py-3 bg-purple-50 text-purple-700 rounded-xl font-medium transition-colors">
                    <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
                    Dashboard
                </a>
                <a href="#" class="flex items-center gap-3 px-4 py-3 text-gray-500 hover:bg-gray-50 hover:text-gray-900 rounded-xl font-medium transition-colors">
                    <i data-lucide="calendar" class="w-5 h-5"></i>
                    Appointments
                </a>
                <a href="#" class="flex items-center gap-3 px-4 py-3 text-gray-500 hover:bg-gray-50 hover:text-gray-900 rounded-xl font-medium transition-colors">
                    <i data-lucide="users" class="w-5 h-5"></i>
                    Students
                </a>
                 <a href="#" class="flex items-center gap-3 px-4 py-3 text-gray-500 hover:bg-gray-50 hover:text-gray-900 rounded-xl font-medium transition-colors">
                    <i data-lucide="bar-chart-2" class="w-5 h-5"></i>
                    Reports
                </a>
            </nav>

            <!-- User Profile (Bottom) -->
            <div class="p-4 border-t border-gray-50">
                <div class="flex items-center gap-3 p-3 rounded-xl bg-gray-50">
                    <div class="w-10 h-10 rounded-full bg-purple-200 flex items-center justify-center text-purple-700 font-bold">DA</div>
                    <div class="flex-1 overflow-hidden">
                        <p class="text-sm font-bold text-gray-900 truncate">Dr. Aravind</p>
                        <p class="text-xs text-gray-500 truncate">Psychologist</p>
                    </div>
                    <button onclick="logout()" class="p-1.5 text-gray-400 hover:text-red-500"><i data-lucide="log-out" class="w-4 h-4"></i></button>
                </div>
            </div>
        </aside>

        <!-- MAIN CONTENT (Shifted Right) -->
        <main class="ml-64 p-8 min-h-screen bg-gray-50/50">
            <!-- Header -->
            <header class="flex justify-between items-center mb-8">
                <div>
                    <h1 class="text-2xl font-bold text-gray-800">Dashboard Overview</h1>
                    <p class="text-sm text-gray-500">Welcome back, Dr. Aravind.</p>
                </div>
                <button onclick="renderAdminDashboard()" class="p-2 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50 text-gray-600"><i data-lucide="refresh-cw" class="w-4 h-4"></i></button>
            </header>

            <!-- Stats Grid -->
            <div class="grid md:grid-cols-3 gap-6 mb-8">
                <!-- Stat Cards -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-purple-50">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-xs text-gray-500 uppercase font-semibold">Total Appointments</p>
                            <h3 class="text-3xl font-bold text-gray-800 mt-1" id="admin-total-appts">0</h3>
                        </div>
                        <div class="p-2 bg-purple-50 rounded-lg"><i data-lucide="calendar" class="text-purple-500"></i></div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-blue-50">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-xs text-gray-500 uppercase font-semibold">High Risk Alerts</p>
                            <h3 class="text-3xl font-bold text-gray-800 mt-1">2</h3>
                        </div>
                        <div class="p-2 bg-blue-50 rounded-lg"><i data-lucide="alert-circle" class="text-blue-500"></i></div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-green-50">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-xs text-gray-500 uppercase font-semibold">Mood Index</p>
                            <h3 class="text-3xl font-bold text-gray-800 mt-1">Neutral</h3>
                        </div>
                        <div class="p-2 bg-green-50 rounded-lg"><i data-lucide="activity" class="text-green-500"></i></div>
                    </div>
                </div>
            </div>

            <!-- Appointments Table -->
            <div class="bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden">
                <div class="p-6 border-b border-gray-100">
                    <h3 class="text-lg font-bold text-gray-800">Recent Appointments</h3>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse">
                        <thead>
                            <tr class="bg-gray-50 text-gray-500 text-xs uppercase tracking-wider">
                                <th class="p-4 font-medium pl-6">Student Name</th>
                                <th class="p-4 font-medium">Date & Time</th>
                                <th class="p-4 font-medium">Language</th>
                                <th class="p-4 font-medium">Reason</th>
                                <th class="p-4 font-medium">Status</th>
                            </tr>
                        </thead>
                        <tbody id="admin-appt-list" class="text-sm text-gray-600 divide-y divide-gray-50">
                            <!-- JS will populate this -->
                            <tr>
                                <td class="p-6 text-center text-gray-400 italic" colspan="5">No appointments scheduled yet.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- ================= MODALS & TOASTS ================= -->

    <!-- Booking Modal (Student) -->
    <div id="bookingModal" class="hidden fixed inset-0 z-[200] flex items-center justify-center bg-black/20 backdrop-blur-sm px-4">
        <div class="glass p-6 rounded-3xl w-full max-w-md shadow-2xl">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-gray-800">Book Appointment</h3>
                <button onclick="closeBooking()" class="p-2 hover:bg-gray-100 rounded-full"><i data-lucide="x" class="w-5 h-5"></i></button>
            </div>
            <form onsubmit="confirmBooking(event)" class="space-y-4">
                <input type="hidden" id="modalDoctorName">
                <div class="grid grid-cols-2 gap-4">
                    <div><label class="text-xs font-bold text-gray-500">Date</label><input type="date" id="bookDate" required class="w-full p-3 rounded-xl border"></div>
                    <div><label class="text-xs font-bold text-gray-500">Time</label><select id="bookTime" required class="w-full p-3 rounded-xl border"><option>10:00 AM</option><option>02:00 PM</option></select></div>
                </div>
                <div><label class="text-xs font-bold text-gray-500">Language</label><select id="bookLang" class="w-full p-3 rounded-xl border"><option>English</option><option>Hindi</option><option>Marathi</option></select></div>
                <div><label class="text-xs font-bold text-gray-500">Reason</label><textarea id="bookReason" rows="2" class="w-full p-3 rounded-xl border"></textarea></div>
                <button type="submit" class="w-full py-3 bg-gray-800 text-white rounded-xl font-bold">Confirm Booking</button>
            </form>
        </div>
    </div>

    <!-- Email Notification Toast -->
    <div id="emailToast" class="fixed top-4 right-4 bg-white border-l-4 border-green-500 text-gray-800 px-6 py-4 rounded-xl shadow-2xl transform -translate-y-40 transition-all duration-500 z-[300] flex flex-col gap-1 max-w-sm">
        <div class="flex items-center gap-2 font-bold text-green-600">
            <i data-lucide="mail-check" class="w-5 h-5"></i> Email Sent Successfully
        </div>
        <p class="text-xs text-gray-500">Confirmation sent to <span class="font-mono text-gray-700">student@university.edu</span></p>
        <p class="text-xs text-gray-400 mt-1">Appointment added to Consultant Dashboard.</p>
    </div>

    <!-- Mood Toast -->
    <div id="moodToast" class="fixed bottom-4 right-4 bg-gray-800 text-white px-6 py-3 rounded-xl shadow-lg transform translate-y-20 opacity-0 transition-all duration-300 z-[300]">
        Mood Logged!
    </div>

    <script>
        // --- GLOBAL STATE ---
        let appointments = []; // Store booked appointments here
        
        // --- INITIALIZATION ---
        window.addEventListener('load', () => {
            if (typeof lucide !== 'undefined') lucide.createIcons();
        });

        // --- NAVIGATION LOGIC ---
        function enterApp(role) {
            document.getElementById('login-portal').classList.add('hidden');
            if (role === 'student') {
                document.getElementById('student-app').classList.remove('hidden');
                document.getElementById('counselor-app').classList.add('hidden');
            } else {
                document.getElementById('student-app').classList.add('hidden');
                document.getElementById('counselor-app').classList.remove('hidden');
                renderAdminDashboard(); // Refresh data
            }
            if (typeof lucide !== 'undefined') lucide.createIcons();
        }

        function logout() {
            document.getElementById('student-app').classList.add('hidden');
            document.getElementById('counselor-app').classList.add('hidden');
            document.getElementById('login-portal').classList.remove('hidden');
        }

        function navigateStudent(viewId) {
            ['student-home', 'student-chat', 'student-assess', 'student-consultants', 'student-resources'].forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
            document.getElementById('student-' + viewId).classList.remove('hidden');
            if (typeof lucide !== 'undefined') lucide.createIcons();
        }

        // --- BOOKING & EMAIL LOGIC ---
        function openBooking(doctorName) {
            document.getElementById('modalDoctorName').value = doctorName;
            document.getElementById('bookingModal').classList.remove('hidden');
        }

        function closeBooking() {
            document.getElementById('bookingModal').classList.add('hidden');
        }

        function confirmBooking(e) {
            e.preventDefault();
            
            // 1. Gather Data
            const doctor = document.getElementById('modalDoctorName').value;
            const date = document.getElementById('bookDate').value;
            const time = document.getElementById('bookTime').value;
            const lang = document.getElementById('bookLang').value;
            const reason = document.getElementById('bookReason').value || "General Checkup";

            // 2. Save to "Database" (Global Array)
            appointments.push({
                studentName: "Current Student", // Simulated
                doctor,
                date,
                time,
                lang,
                reason,
                status: "Confirmed"
            });

            // 3. UI Updates
            closeBooking();

            // 4. Trigger Email Simulation
            showEmailToast();
        }

        function showEmailToast() {
            const toast = document.getElementById('emailToast');
            toast.classList.remove('-translate-y-40');
            
            // Hide after 4 seconds
            setTimeout(() => {
                toast.classList.add('-translate-y-40');
            }, 4000);
        }

        // --- COUNSELOR DASHBOARD LOGIC ---
        function renderAdminDashboard() {
            const list = document.getElementById('admin-appt-list');
            const total = document.getElementById('admin-total-appts');
            
            total.innerText = appointments.length;

            if (appointments.length === 0) {
                list.innerHTML = `<tr><td class="p-6 text-center text-gray-400 italic" colspan="5">No appointments scheduled yet.</td></tr>`;
                return;
            }

            let html = '';
            appointments.forEach(appt => {
                html += `
                    <tr class="hover:bg-gray-50 transition-colors border-b border-gray-50 last:border-0">
                        <td class="p-4 pl-6 font-medium text-gray-800">${appt.studentName}</td>
                        <td class="p-4">
                            <div class="text-xs text-gray-500">Date</div>
                            <div class="font-medium">${appt.date}</div>
                            <div class="text-xs text-purple-500">${appt.time}</div>
                        </td>
                        <td class="p-4"><span class="px-2 py-1 bg-gray-100 rounded text-xs">${appt.lang}</span></td>
                        <td class="p-4 text-gray-600 max-w-xs truncate">${appt.reason}</td>
                        <td class="p-4"><span class="px-2 py-1 bg-green-100 text-green-600 rounded-full text-xs font-bold">‚óè Confirmed</span></td>
                    </tr>
                `;
            });
            list.innerHTML = html;
        }

        // --- MISC LOGIC ---
        function recordMood(mood) {
            const toast = document.getElementById('moodToast');
            toast.innerText = `Mood logged: ${mood}`;
            toast.classList.remove('translate-y-20', 'opacity-0');
            setTimeout(() => toast.classList.add('translate-y-20', 'opacity-0'), 2000);
        }

        // Simple Chat Logic (Preserved from previous version)
        function handleChat(e) {
            e.preventDefault();
            const input = document.getElementById('userInput');
            const text = input.value;
            if(!text) return;
            
            const msgs = document.getElementById('messages');
            msgs.innerHTML += `<div class="flex gap-2.5 justify-end"><div class="bg-indigo-500 text-white p-4 rounded-xl shadow-sm text-sm">${text}</div></div>`;
            input.value = '';
            
            setTimeout(() => {
                msgs.innerHTML += `<div class="flex gap-2.5"><div class="bg-white p-4 rounded-xl shadow-sm text-sm border border-gray-100">I hear you. Let's talk more about that.</div></div>`;
                msgs.scrollTo(0, msgs.scrollHeight);
            }, 1000);
        }

        function clearChat() {
            document.getElementById('messages').innerHTML = '';
        }

        // --- LOCALIZATION (Simplified) ---
        const translations = {
            en: { nav_home: "Home", hero_title_1: "You don't have to struggle" },
            hi: { nav_home: "‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§™‡•É‡§∑‡•ç‡§†", hero_title_1: "‡§Ü‡§™‡§ï‡•ã ‡§ö‡•Å‡§™‡§ö‡§æ‡§™ ‡§∏‡§Ç‡§ò‡§∞‡•ç‡§∑ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à" },
            mr: { nav_home: "‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§™‡•É‡§∑‡•ç‡§†", hero_title_1: "‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§∂‡§æ‡§Ç‡§§‡§™‡§£‡•á ‡§∏‡§Ç‡§ò‡§∞‡•ç‡§∑ ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§ö‡•Ä ‡§ó‡§∞‡§ú ‡§®‡§æ‡§π‡•Ä" }
        };

        function changeLanguage(lang) {
            const t = translations[lang];
            if (!t) return;
            // Simplified implementation for prototype demo
            if(t.nav_home) document.querySelector('[data-i18n="nav_home"]').innerText = t.nav_home;
            if(t.hero_title_1) document.querySelector('[data-i18n="hero_title_1"]').innerText = t.hero_title_1;
            
            document.body.classList.remove('font-devanagari');
            if (lang === 'hi' || lang === 'mr') document.body.classList.add('font-devanagari');
        }
    </script>
</body>
</html>